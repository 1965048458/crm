<!DOCTYPE html>
<html lang="en" xmlns:v-bind="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=0">
    <title>客户</title>
    <!-- 引入 WeUI -->
    <link rel="stylesheet" href="/weui.css"/>
    <link rel="stylesheet" href="/example.css">

    <script src="/lib/jquery-2.1.1.js"></script>
    <script src="/vue.v2.5.13.js"></script>
    <script src="/customer/searchCustomerInfo.js"></script>
    <style>
        .center-box {
            text-align: center;
        }

        .center-ele {
            display: inline-block;
        }

        .pull-left {
            float: left !important;
        }

        .pull-right {
            float: right !important;
        }
    </style>
</head>
<body>

<div class="page tabbar js_show">
    <div class="weui-tab">
        <div class="weui-tab__panel">
            <div id="customerVue">
                <div id="titleBar" class="top-bar center-box" v-show="titleBar">
                    <div class="title-bar">
                        <span class="center-ele" style="font-size: 20px">客户</span>
                        <a href="javascript:addCustomer();">
                        <span class="pull-right"
                              style="font-size: 20px; color: #00FFFF; padding-right: 10px">+ &nbsp;</span></a>
                    </div>
                </div>
                <div id="searchCustomer" v-show="searchCustomer">
                    <div class="center-box">
                        <div class="weui-search-bar" id="searchBar">
                            <div class="weui-search-bar__form">
                                <div class="weui-search-bar__box">
                                    <i class="weui-icon-search"></i>
                                    <input type="text" class="weui-search-bar__input" id="searchInput" placeholder="搜索"
                                           @keyup.enter="search" v-model="searchWord" required="">
                                    <a href="javascript:" class="weui-icon-clear" id="searchClear" @click="clear"></a>
                                </div>
                                <label class="weui-search-bar__label" id="searchText" @click="text"
                                       style="transform-origin: 0px 0px 0px; opacity: 1; transform: scale(1, 1);">
                                    <i class="weui-icon-search"></i>
                                    <span>搜索</span>
                                </label>
                            </div>
                            <a href="javascript:" class="weui-search-bar__cancel-btn" id="searchCancel" @click="cancel">取消</a>
                        </div>

                        <div class="weui-cells searchbar-result" id="searchResult" style="display: none;">
                            <div class="weui-cells weui-cells_radio">
                                <label class="weui-cell weui-check__label"
                                       v-for="customer in customerList.filter(filterList)">
                                    <div class="weui-cell__bd">
                                        <p v-text="customer.customerName"></p>
                                    </div>
                                    <div class="weui-cell__ft">
                                        <input type="radio" class="weui-check" v-bind:value="customer.customerName"
                                               v-model="searchWord">
                                    </div>
                                </label>
                            </div>
                        </div>
                    </div>
                </div>

                <div id="customers" v-show="customers">
                    <div class="myCustomerList">
                        <div class="weui-panel__bd">
                            <div class="weui-media-box weui-media-box_text">
                                <h1 class="weui-media-box__title">我的客户</h1>
                                <div class="myCustomers">
                                    <div class="weui-panel__bd">
                                        <a @click="" class="weui-media-box weui-media-box_appmsg">
                                            <div class="weui-media-box__hd">
                                                <img class="weui-media-box__thumb" src="/images/icon_nav_layout.png"
                                                     alt="">
                                            </div>
                                            <div class="weui-media-box__bd">
                                                <h4 class="weui-media-box__title">浙江大学</h4>
                                                <p class="weui-media-box__desc">最后跟进: 20180421</p>
                                            </div>
                                        </a>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="allCustomerList">
                        <div class="weui-panel__bd">
                            <div class="weui-media-box weui-media-box_text">
                                <h1 class="weui-media-box__title">全部客户</h1>
                                <div class="allCustomers" v-for="customer in customerList">
                                    <div class="weui-panel__bd" @click="loadDetail(customer.customerId)">
                                        <a class="weui-media-box weui-media-box_appmsg">
                                            <div class="weui-media-box__hd">
                                                <img class="weui-media-box__thumb" src="/images/icon_nav_layout.png"
                                                     alt="">
                                            </div>
                                            <div class="weui-media-box__bd">
                                                <h1 class="weui-media-box__title"
                                                    v-text="customer.customerName"></h1>
                                                <p class="weui-media-box__desc">最后跟进: 20180421</p>
                                            </div>
                                        </a>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>


        </div>

        <div class="weui-tabbar">
            <a href="javascript:;" class="weui-tabbar__item weui-bar__item_on">
                <img src="/images/customer.png" alt="" class="weui-tabbar__icon">
                <p class="weui-tabbar__label">客户</p>
            </a>
            <a href="javascript:opportunity();" class="weui-tabbar__item">
                <img src="/images/saleOpportunity.png" alt="" class="weui-tabbar__icon">
                <p class="weui-tabbar__label">销售机会</p>
            </a>
            <a href="javascript:journal();" class="weui-tabbar__item">
                <img src="/images/journal.png" alt="" class="weui-tabbar__icon">
                <p class="weui-tabbar__label">日志</p>
            </a>
            <a href="javascript:;" class="weui-tabbar__item">
                <img src="/images/cluesPool.png" alt="" class="weui-tabbar__icon">
                <p class="weui-tabbar__label">线索池</p>
            </a>
            <a href="javascript:;" class="weui-tabbar__item">
                <img src="/images/others.png" alt="" class="weui-tabbar__icon">
                <p class="weui-tabbar__label">其他</p>
            </a>
        </div>
    </div>
</div>
</div>
<script type="text/javascript" class="tabbar js_show">
    $(function () {
        $('.weui-tabbar__item').on('click', function () {
            $(this).addClass('weui-bar__item_on').siblings('.weui-bar__item_on').removeClass('weui-bar__item_on');
        });
    });
</script>
<script>
    function addCustomer() {
        location.href = '/customer/add';
    };
    function journal() {
        location.href = '/journal/toList';
    };
    function opportunity() {
        location.href = '/opportunity';
    }
</script>
</body>

</html>