<!DOCTYPE html>
<html lang="en" xmlns:v-bind="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=0">
    <title>商机</title>
    <!-- 引入 WeUI -->
    <link rel="stylesheet" href="/weui.css"/>
    <link rel="stylesheet" href="/example.css">

    <script src="/lib/jquery-2.1.1.js"></script>
    <script src="/vue.v2.5.13.js"></script>
    <script src="/opportunity/opportunity.js"></script>
    <style>
        .center-box {
            text-align: center;
        }

        .top-bar, .journal-box, #journalDetail {
            font-size: 18px;
            text-align: center;
            background: #ffffff;
            border-bottom: solid 1px #DDDDDD;
        }

        .center-ele {
            display: inline-block;
        }

        .pull-left {
            float: left !important;
        }

        .pull-right {
            float: right !important;
        }

        .sortSelect {
            position: absolute;
            top: 70px;
            width: 100%;
            z-index: 99999;
        }

        .filterSelect {
            position: absolute;
            top: 70px;;
            width: 100%;
            z-index: 99999;
        }

        .filterItem {
            position: absolute;
            top: 70px;
            left: 124px;
            width: 70%;
            z-index: 99999;
        }

        .filterDetail {
            position: absolute;
            top: 70px;
            left: 25%;
            width: 75%;
            z-index: 99999;
        }

    </style>
</head>
<body>
<div id="opportunityVue">

    <div id="opportunity" v-show="showPage === 'opportunity'">
        <div class="page tabbar js_show">
            <div class="weui-tab">

                <div class="weui-tab__panel">

                    <div class="weui-navbar" style="height: 50px;">
                        <div id="titleBar" class="weui-navbar__item top-bar" style=" padding: 10px 10px;">
                    <span class="pull-left" style="margin-top: 7px">&nbsp;
                      <img src="/images/back_icon.svg"/></span>
                            <span style="width: 76%;text-align: center;font-size: 20px;margin-top: 5px ">商机</span>

                            <span style="float:right;margin-top: 7px" @click="add">&nbsp;
                      <img src="/images/journal/添加日志.svg"/></span>
                            <span style="float:right;margin-top: 7px;margin-right: 10px">&nbsp;
                      <img src="/images/search.svg"/></span>
                        </div>
                    </div>


                    <div style="height: 50px"></div>
                    <div class="weui-flex">
                        <div class="weui-flex__item" style="text-align: center;height: 35px;padding-top: 5px">
                        <span @click="sort">
                            <label>排序</label>
                            <img :src='imgSort'>

                        </span>
                        </div>
                        <div class="weui-flex__item" style="text-align: center;height: 35px;padding-top: 5px">
                        <span @click="filter">
                            <label>筛选</label>
                            <img :src='imgFilter'>
                        </span>
                        </div>
                    </div>


                    <div v-for="opportunity in opportunityList">
                        <div class="weui-panel weui-panel_access">
                            <a href="javascript:void(0);" class="weui-media-box weui-media-box_appmsg"
                               style="padding: 8px 10px ;">
                                <div class="weui-media-box__hd">
                                    <img class="weui-media-box__thumb" :src="imgSrc(opportunity.salesStatus)"
                                         style="width: 40px;height: 40px;margin-top: 10px" alt="">
                                </div>
                                <div class="weui-media-box__bd">
                                    <label class="weui-media-box__title"
                                           style="font-size: 15px;color: #333333;">{{opportunity.opportunityName}}</label>
                                    <p class="weui-media-box__desc" style="font-size: 12px;color: #888888;">
                                        {{opportunity.customerName}}
                                        <label class="pull-right" style="font-size: 12px;color: #101010;">
                                            {{opportunity.create_ts}}</label>
                                    </p>
                                    <p class="weui-media-box__desc" style="font-size: 12px;color: #A0B4BB;">
                                        {{opportunity.salesStatus}}
                                        <label class="pull-right" style="font-size: 15px;color: #A0B4BB;">
                                            {{opportunity.amount}}元</label>
                                    </p>
                                </div>
                            </a>
                        </div>
                    </div>


                    <div id="sortPage" style="display:none;" v-show="showSortPage">
                        <div class="weui-mask" @click="cancelMask" style="position: absolute;top: 20%;"></div>
                        <div class="sortSelect" @click="cancelMask">
                            <div class="weui-cells weui-cells_radio">
                                <label class="weui-cell weui-check__label" for="x11" @click="sortAsc">
                                    <div class="weui-cell__bd">
                                        <p style="font-size: 14px;color: #101010;">按创建时间正序</p>
                                    </div>
                                    <div class="weui-cell__ft">
                                        <input type="radio" class="weui-check" name="timeSort" id="x11"
                                               value="ASC" v-model="sortMode"/>
                                        <span class="weui-icon-checked"></span>
                                    </div>
                                </label>
                                <label class="weui-cell weui-check__label" for="x12" @click="sortDesc">
                                    <div class="weui-cell__bd">
                                        <p style="font-size: 14px;color: #101010;">按创建时间倒序</p>
                                    </div>
                                    <div class="weui-cell__ft">
                                        <input type="radio" class="weui-check" name="timeSort" id="x12"
                                               value="DESC" v-model="sortMode"/>
                                        <span class="weui-icon-checked"></span>
                                    </div>
                                </label>
                            </div>
                        </div>
                    </div>

                    <div id="filterPage" style="display:none;" v-show="showFilterPage">
                        <div class="weui-mask" @click="cancelMask" style="position: absolute;top: 30%;"></div>
                        <div class="filterSelect">
                            <div class="weui-cells weui-cells_radio">
                                <!--<label id="scene" class="weui-cell weui-check__label" @click="filterScene">-->
                                <!--<div class="weui-cell__bd">-->
                                <!--<p style="font-size: 14px;color: #101010;">筛选场景</p>-->
                                <!--</div>-->
                                <!--<div class="weui-cell__ft" style="display: none">-->
                                <!--<input class="weui-check" name="filter"-->
                                <!--/>-->
                                <!--<span class="weui-icon-checked"></span>-->
                                <!--</div>-->
                                <!--</label>-->
                                <label id="creator" class="weui-cell weui-check__label" @click="filterCreator">
                                    <div class="weui-cell__bd">
                                        <p style="font-size: 14px;color: #101010;">创建人</p>
                                    </div>
                                    <div class="weui-cell__ft" style="display: none">
                                        <input class="weui-check" name="filter"/>
                                        <span class="weui-icon-checked"></span>
                                    </div>
                                </label>
                                <label id="customer" class="weui-cell weui-check__label" @click="filterCustomer">
                                    <div class="weui-cell__bd">
                                        <p style="font-size: 14px;color: #101010;">客户名称</p>
                                    </div>
                                    <div class="weui-cell__ft" style="display: none">
                                        <input class="weui-check" name="filter"/>
                                        <span class="weui-icon-checked"></span>
                                    </div>
                                </label>
                                <label id="date" class="weui-cell weui-check__label" @click="filterDate">
                                    <div class="weui-cell__bd">
                                        <p style="font-size: 14px;color: #101010;">创建日期</p>
                                    </div>
                                    <div class="weui-cell__ft" style="display: none">
                                        <input class="weui-check" name="filter"/>
                                        <span class="weui-icon-checked"></span>
                                    </div>
                                </label>

                                <label id="stage" class="weui-cell weui-check__label" @click="filterStage">
                                    <div class="weui-cell__bd">
                                        <p style="font-size: 14px;color: #101010;">销售阶段</p>
                                    </div>
                                    <div class="weui-cell__ft" style="display: none">
                                        <input class="weui-check" name="filter"/>
                                        <span class="weui-icon-checked"></span>
                                    </div>
                                </label>

                                <div style="height: 120px"></div>
                                <div style="height: 40px">
                                    <a style="float:right; margin-right: 15px" href="javascript:;" @click="finish"
                                       class="weui-btn weui-btn_mini weui-btn_primary">完成</a>
                                    <a style="float:right; position: relative;bottom: 15px;right: 15px"
                                       href="javascript:;"
                                       @click="reset"
                                       class="weui-btn weui-btn_mini weui-btn_default">重置</a>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!--<div id="filterScene" style="display:none;" v-show="filterCondition === 'scene'">-->
                    <!--<div class="filterDetail">-->
                    <!--<div class="weui-cells weui-cells_radio">-->
                    <!--<label class="weui-cell weui-check__label" for="scene1">-->
                    <!--<div class="weui-cell__bd">-->
                    <!--<p style="font-size: 14px;color: #101010;">全部</p>-->
                    <!--</div>-->
                    <!--<div class="weui-cell__ft">-->
                    <!--<input id="scene1" type="radio" class="weui-check" name="selectScene" value="all"-->
                    <!--v-model="sceneValue"/>-->
                    <!--<span class="weui-icon-checked"></span>-->
                    <!--</div>-->

                    <!--</label>-->
                    <!--<label class="weui-cell weui-check__label" for="scene2">-->
                    <!--<div class="weui-cell__bd">-->
                    <!--<p style="font-size: 14px;color: #101010;">我负责的商机</p>-->
                    <!--</div>-->
                    <!--<div class="weui-cell__ft">-->
                    <!--<input id="scene2" type="radio" class="weui-check" name="selectScene" value="mine"-->
                    <!--v-model="sceneValue"/>-->
                    <!--<span class="weui-icon-checked"></span>-->
                    <!--</div>-->
                    <!--</label>-->
                    <!--<label class="weui-cell weui-check__label" for="scene3">-->
                    <!--<div class="weui-cell__bd">-->
                    <!--<p style="font-size: 14px;color: #101010;">下属负责的商机</p>-->
                    <!--</div>-->
                    <!--<div class="weui-cell__ft">-->
                    <!--<input id="scene3" type="radio" class="weui-check" name="selectScene" value="sub"-->
                    <!--v-model="sceneValue"/>-->
                    <!--<span class="weui-icon-checked"></span>-->
                    <!--</div>-->
                    <!--</label>-->
                    <!--<div style="height: 135px"></div>-->
                    <!--</div>-->
                    <!--</div>-->
                    <!--</div>-->

                    <div id="filterDate" style="display:none;" v-show="filterCondition === 'date'">
                        <div class="filterDetail">
                            <div class="weui-cells weui-cells_radio">
                                <label class="weui-cell weui-check__label" @click="dateChecked" for="dateCheck">
                                    <div class="weui-cell__bd">
                                        <p style="font-size: 14px;color: #101010;">不限</p>
                                    </div>
                                    <div class="weui-cell__ft">
                                        <input id="dateCheck" class="weui-check" type="radio" value="all"
                                               name="createDate"
                                               v-model="dateValue"/>
                                        <span class="weui-icon-checked"></span>
                                    </div>
                                </label>


                                <div class="weui-cell" @click="removeChecked">
                                    <div class="weui-cell__hd">
                                        <label class="weui-label"
                                               style="font-size: 14px;color: #101010;width: 80px">开始时间</label>
                                    </div>
                                    <div class="weui-cell__bd">
                                        <input class="weui-input" type="date" style="font-size: 14px;color: #101010;"
                                               v-model="dateValueStart"/>
                                    </div>
                                </div>


                                <div class="weui-cell" @click="removeChecked">
                                    <div class="weui-cell__hd">
                                        <label class="weui-label"
                                               style="font-size: 14px;color: #101010;width: 80px">结束时间</label>
                                    </div>
                                    <div class="weui-cell__bd">
                                        <input class="weui-input" type="date" style="font-size: 14px;color: #101010;"
                                               v-model="dateValueEnd"/>
                                    </div>
                                </div>
                                <div style="height: 135px"></div>
                            </div>
                        </div>
                    </div>

                    <div id="filterCreator" style="display:none;" v-show="filterCondition === 'creator'">
                        <div class="filterDetail">
                            <div class="weui-cells weui-cells_radio">
                                <label class="weui-cell weui-check__label" for="creatorCheck" @click="creatorChecked">
                                    <div class="weui-cell__bd">
                                        <p style="font-size: 14px;color: #101010;">全部</p>
                                    </div>
                                    <div class="weui-cell__ft">
                                        <input id="creatorCheck" type="radio" class="weui-check" name="selectCreator"
                                               value="all"
                                               v-model="creatorValue"/>
                                        <span class="weui-icon-checked"></span>
                                    </div>
                                </label>
                                <label class="weui-cell weui-check__label" @click="creatorChecked1">
                                    <div class="weui-cell__bd">
                                        <p style="font-size: 14px;color: #101010;">我负责的商机</p>
                                    </div>
                                    <div class="weui-cell__ft">
                                        <input id="mine" type="radio" class="weui-check" name="selectCreator"
                                               value="mine"
                                               v-model="creatorValue"/>
                                        <span class="weui-icon-checked"></span>
                                    </div>
                                </label>
                                <label class="weui-cell weui-check__label" @click="creatorChecked2">
                                    <div class="weui-cell__bd">
                                        <p style="font-size: 14px;color: #101010;">下属负责的商机</p>
                                    </div>
                                    <div class="weui-cell__ft">
                                        <input id="subs" type="radio" class="weui-check" name="selectCreator"
                                               value="sub"
                                               v-model="creatorValue"/>
                                        <span class="weui-icon-checked"></span>
                                    </div>
                                </label>
                                <a class="weui-cell weui-cell_access" href="javascript:;" @click="removeChecked1">
                                    <div class="weui-cell__bd">
                                        <input id="creatorChoose" class="weui-input" type="text" placeholder="选择创建人"
                                               style="font-size: 14px;color: #101010;" readonly="readonly"
                                               v-model="creatorV"/>
                                        <!--<div class="placeholder" style="font-size: 14px;color:grey;"> {{creatorValueC}}</div>-->
                                    </div>
                                    <div class="weui-cell__ft"></div>
                                </a>
                                <div style="height: 90px"></div>
                            </div>
                        </div>
                    </div>

                    <div id="filterStage" style="display:none;" v-show="filterCondition === 'stage'">
                        <div class="filterDetail">
                            <div class="weui-cells weui-cells_radio">
                                <label class="weui-cell weui-check__label" for="stage1">
                                    <div class="weui-cell__bd">
                                        <p style="font-size: 14px;color: #101010;">不限</p>
                                    </div>
                                    <div class="weui-cell__ft">
                                        <input id="stage1" type="radio" class="weui-check" name="selectStage"
                                               value="all"
                                               v-model="stageValue"/>
                                        <span class="weui-icon-checked"></span>
                                    </div>
                                </label>
                                <label class="weui-cell weui-check__label" for="stage2">
                                    <div class="weui-cell__bd">
                                        <p style="font-size: 14px;color: #101010;">A&nbsp;拿到老师手机及微信号</p>
                                    </div>
                                    <div class="weui-cell__ft">
                                        <input id="stage2" type="radio" class="weui-check" name="selectStage"
                                               value="A阶段"
                                               v-model="stageValue"/>
                                        <span class="weui-icon-checked"></span>
                                    </div>
                                </label>
                                <label class="weui-cell weui-check__label" for="stage3">
                                    <div class="weui-cell__bd">
                                        <p style="font-size: 14px;color: #101010;">B&nbsp;提交方案</p>
                                    </div>
                                    <div class="weui-cell__ft">
                                        <input id="stage3" type="radio" class="weui-check" name="selectStage"
                                               value="B阶段"
                                               v-model="stageValue"/>
                                        <span class="weui-icon-checked"></span>
                                    </div>
                                </label>
                                <label class="weui-cell weui-check__label" for="stage4">
                                    <div class="weui-cell__bd">
                                        <p style="font-size: 14px;color: #101010;">C&nbsp;以我方提供参数挂标</p>
                                    </div>
                                    <div class="weui-cell__ft">
                                        <input id="stage4" type="radio" class="weui-check" name="selectStage"
                                               value="C阶段"
                                               v-model="stageValue"/>
                                        <span class="weui-icon-checked"></span>
                                    </div>
                                </label>
                                <label class="weui-cell weui-check__label" for="stage5">
                                    <div class="weui-cell__bd">
                                        <p style="font-size: 14px;color: #101010;">D&nbsp;中标</p>
                                    </div>
                                    <div class="weui-cell__ft">
                                        <input id="stage5" type="radio" class="weui-check" name="selectStage"
                                               value="D阶段"
                                               v-model="stageValue"/>
                                        <span class="weui-icon-checked"></span>
                                    </div>
                                </label>
                                <label class="weui-cell weui-check__label" for="stage6">
                                    <div class="weui-cell__bd">
                                        <p style="font-size: 14px;color: #101010;">输单</p>
                                    </div>
                                    <div class="weui-cell__ft">
                                        <input id="stage6" type="radio" class="weui-check" name="selectStage" value="输单"
                                               v-model="stageValue"/>
                                        <span class="weui-icon-checked"></span>
                                    </div>
                                </label>
                                <!--<div style="height: 140px"></div>-->
                            </div>
                        </div>
                    </div>

                    <div id="filterCustomer" style="display:none;" v-show="filterCondition === 'customer'">
                        <div class="filterDetail">
                            <div class="weui-cells weui-cells_radio">
                                <label class="weui-cell weui-check__label" @click="customerChecked" for="customerCheck">
                                    <div class="weui-cell__bd">
                                        <p style="font-size: 14px;color: #101010;">不限</p>
                                    </div>
                                    <div class="weui-cell__ft">
                                        <input id="customerCheck" type="radio" class="weui-check" name="customer"
                                               value="all"
                                               v-model="customerValue"/>
                                        <span class="weui-icon-checked"></span>
                                    </div>
                                </label>
                                <div class="weui-cell">
                                    <div class="weui-cell__bd">
                                        <input id="customerInput" class="weui-input" type="text" placeholder="请输入"
                                               style="font-size: 14px;color: #101010;" v-model="customerValueIn"/>
                                    </div>
                                </div>
                                <div style="height: 185px"></div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

        </div>


        <div class="weui-tabbar">
            <a href="/customer/customerList" class="weui-tabbar__item">
                <img src="/images/bottom/customer_1.svg" class="weui-tabbar__icon">
                <p class="weui-tabbar__label">客户</p>
            </a>
            <a href="javascript:;" class="weui-tabbar__item weui-bar__item_on">
                <img src="/images/bottom/opportunity_2.svg" class="weui-tabbar__icon">
                <p class="weui-tabbar__label">商机</p>
            </a>
            <a href="/journal/toList" class="weui-tabbar__item">
                <img src="/images/bottom/journal_1.svg" class="weui-tabbar__icon">
                <p class="weui-tabbar__label">日志</p>
            </a>
            <a href="javascript:;" class="weui-tabbar__item">
                <img src="/images/bottom/project_1.svg" class="weui-tabbar__icon">
                <p class="weui-tabbar__label">项目</p>
            </a>
            <a href="javascript:;" class="weui-tabbar__item" id="tabbarMine">
                <img src="/images/bottom/mine_1.svg" class="weui-tabbar__icon">
                <p class="weui-tabbar__label">我的</p>
            </a>
        </div>
    </div>

    <div id="selectCreator" v-show="showPage === 'selectCreator'">
            <div class="weui-tab">

                    <div class="top-bar center-box" style="border: hidden; padding: 8px 8px;">
                        <span class="pull-left" @click="backToFilter"
                              style="color: rgb(61, 168, 244); font-size: 16px;">取消</span>
                        <span class="center-ele" style="font-size: 18px; color: rgb(51, 51, 51);">选择创建人</span>
                        <span class="pull-right" @click="submit"
                              style="color: rgb(61, 168, 244); font-size: 16px;">完成</span>
                    </div>
                    <div class="subMember" style="margin-top: 3px;">
                        <div class="weui-cells weui-cells_checkbox" v-for="member in subMemberList" style="margin-top: 0;padding: 0px;">
                            <label class="weui-cell weui-check__label">
                                <div class="weui-cell__hd">
                                    <input type="checkbox" class="weui-check" name="checkbox1"
                                           :value="member.memberId + ',' + member.memberName" v-model="tempSub">
                                    <i class="weui-icon-checked"></i>
                                </div>
                                <div class="weui-cell__bd">
                                    <p v-text="member.memberName"></p>
                                </div>
                            </label>
                        </div>
                    </div>

            </div>
    </div>
</div>

</div>
</body>

</html>